<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <title>Home</title>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  </head>
  <body style="overflow-x: hidden">
    <div class="position-relative container-fluid">
      <!-- Background Circles -->
      <div
        class="position-absolute"
        style="
          width: 532px;
          height: 532px;
          right: 50vw;
          top: 120vh;
          background: radial-gradient(#d5d5ff 0%, #dd92e9 70%, #978ee2 100%);
          border-radius: 999px;
          z-index: -1;
          filter: blur(200px);
          overflow: hidden;
        "
      ></div>
      <div
        class="position-absolute"
        style="
          width: 532px;
          height: 532px;
          right: 0vw;
          top: 30vh;
          background: radial-gradient(#d5d5ff 0%, #dd92e9 50%, #978ee2 100%);
          border-radius: 9999px;
          z-index: -1;
          filter: blur(200px);
          overflow: hidden;
        "
      ></div>

      <!-- header -->
      <nav class="navbar navbar-expand-lg navbar-light p-4">
        <div class="container-fluid">
          <a
            class="navbar-brand d-flex align-items-center"
            href="http://localhost:8000"
          >
            <img
              src="/logocanvax.png"
              alt="Logo"
              class="img-fluid"
              style="width: 100px; transform: rotate(180deg)"
            />
            <h1
              class="text-dark fw-bold mx-2 d-none d-sm-block"
              style="font-size: 3rem"
            >
              CanvaX
            </h1>
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div
            class="collapse navbar-collapse justify-content-end"
            id="navbarNav"
          >
            <ul class="navbar-nav">
              <li id="signUp" class="nav-item">
                <a
                  class="nav-link text-dark fw-bold"
                  href="http://localhost:8000/signup/"
                  style="font-size: 1.5rem"
                  >Sign Up</a
                >
              </li>
              <li id="upload" class="nav-item" style="display: none">
                <a
                  class="nav-link text-dark fw-bold"
                  href="http://localhost:8000/upload/"
                  style="font-size: 1.5rem"
                  >Upload</a
                >
              </li>
              <div id="extra-bar" style="display: none">
                <li class="d-none d-lg-block" style="font-size: 2rem">|</li>
              </div>
              <li id="history" class="nav-item" style="display: none">
                <a
                  class="nav-link text-dark fw-bold"
                  href="http://localhost:8000/history/"
                  style="font-size: 1.5rem"
                  >History</a
                >
              </li>
              <li class="d-none d-lg-block" style="font-size: 2rem">|</li>
              <li id="signIn" class="nav-item">
                <a
                  class="nav-link text-dark fw-bold"
                  href="http://localhost:8000/signin/"
                  style="font-size: 1.5rem"
                  >Log in</a
                >
              </li>
              <li id="signOut" class="nav-item" style="display: none">
                <a
                  class="nav-link text-dark fw-bold"
                  href="http://localhost:3001/user/signout"
                  style="font-size: 1.5rem"
                  >Sign out</a
                >
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Welcome Section -->
      <div class="px-5 mt-5">
        <div class="row align-items-center px-md-5 gx-5 mx-md-5">
          <div class="col-xl" data-aos="fade-right" data-aos-duration="1000">
            <h1 class="text-black" style="font-weight: 700; font-size: 2.5rem">
              Welcome to <span style="color: #ab5cf7">CanvaX</span>: Transform
              Your Images into Timeless Painting
            </h1>
            <div class="text-muted mt-4" style="font-size: 1.3rem">
              CanvaX is a unique and innovative platform designed to transform
              your images into stunning digital paintings, breathing new
              artistic life into your creations. Whether you're a designer,
              artist, or simply someone who appreciates the beauty of art, our
              website provides an effortless way to merge your digital
              creativity with the charm of traditional painting styles.
              <br /><br />
              Digital painting is a modern art form that simulates traditional
              painting techniques using digital tools, creating vibrant and
              intricate artworks that reflect the depth and texture of
              hand-painted pieces. With CanvaX, you can easily turn your photos
              into beautiful, painting-like masterpieces that capture the
              essence of classic art styles.
            </div>
            <a
              id="getStarted"
              class="btn mt-4 mb-5"
              style="
                padding: 10px 20px;
                border-radius: 20px;
                background: linear-gradient(
                  90deg,
                  #b5c4ff 0%,
                  #d1adff 25%,
                  #ba7dd4 51%,
                  #8e54e9 74%,
                  #978de1 100%
                );
                color: white;
                font-size: 1rem;
                font-family: Inter;
                font-weight: 700;
              "
              href=""
            >
              Get started
            </a>
          </div>
          <div
            class="col-xl-5 px-5 d-flex justify-content-center"
            data-aos="fade-left"
            data-aos-duration="1000"
          >
            <img src="/example.png" class="img-fluid" />
          </div>
        </div>
      </div>

      <!-- How Works -->
      <br /><br /><br />
      <div class="container mt-5">
        <div
          class="row justify-content-center text-center mt-5"
          data-aos="fade-up"
          data-aos-duration="1000"
        >
          <div class="col-12">
            <h2 style="color: #2e3339; font-weight: 700; font-size: 40px">
              How CanvaX Works
            </h2>
          </div>
          <p
            class="col-12 col-md-8 text-muted"
            style="
              width: 620px;
              color: #505258;
              font-size: 18px;
              font-weight: 500;
              line-height: 26px;
              margin-top: 20px;
            "
          >
            Upload your image, and our advanced algorithms will analyze its
            composition and colors, converting it into a batik-inspired pattern.
            <br /><br />
            You can then customize the design further, choosing from a range of
            traditional batik styles or creating something entirely new. Once
            you're satisfied with your design, you can download it.
          </p>
        </div>
        <div class="row justify-content-center my-5">
          <div
            class="col-12 col-md-10"
            data-aos="fade-up"
            data-aos-duration="1000"
          >
            <img src="/miring.png" alt="" style="width: 100%; height: auto" />
          </div>
        </div>
      </div>
    </div>

    <script>
      AOS.init();
      const signInButton = document.getElementById("signIn");
      const signUpButton = document.getElementById("signUp");
      const uploadButton = document.getElementById("upload");
      const historyButton = document.getElementById("history");
      const extraBar = document.getElementById("extra-bar");
      const signOutButton = document.getElementById("signOut");
      const getStartedButton = document.getElementById("getStarted");

      async function checkUserAuthentication() {
        try {
          const response = await fetch("http://localhost:3001/user", {
            method: "GET",
            credentials: "include",
          });
          if (response.ok) {
            const data = await response.json();
            if (data.user) {
              uploadButton.style.display = "block";
              extraBar.style.display = "block";
              historyButton.style.display = "block";
              signOutButton.style.display = "block";
              signInButton.style.display = "none";
              signUpButton.style.display = "none";
              getStartedButton.setAttribute(
                "href",
                "http://localhost:8000/upload/"
              );
              return;
            } else {
              getStartedButton.setAttribute(
                "href",
                "http://localhost:8000/signup/"
              );
            }
          }
        } catch (error) {
          getStartedButton.setAttribute(
            "href",
            "http://localhost:8000/signup/"
          );
        }
      }
      checkUserAuthentication();
    </script>
  </body>
</html>
